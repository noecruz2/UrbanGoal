#!/bin/bash

# üöÄ QUICK START - UrbanGoal Notificaciones

echo "======================================"
echo "    UrbanGoal - Quick Start Setup"
echo "======================================"
echo ""

# Colores
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}Paso 1: Configurar Email (Gmail SMTP)${NC}"
echo "----------------------------------------"
echo ""
echo "Necesitas:"
echo "1. Cuenta Google con 2FA habilitado"
echo "2. Una 'Contrase√±a de aplicaci√≥n' (16 caracteres)"
echo ""
echo "C√≥mo obtenerla:"
echo "  1. Ve a https://myaccount.google.com/security"
echo "  2. Activa 'Verificaci√≥n en 2 pasos'"
echo "  3. Ve a https://myaccount.google.com/apppasswords"
echo "  4. Selecciona 'Mail' + tu dispositivo"
echo "  5. Copia la contrase√±a generada"
echo ""
echo "Luego, edita UrbanGoal_BackEnd/.env:"
echo ""
echo -e "${YELLOW}EMAIL_USER=ncruzm2002@gmail.com${NC}"
echo -e "${YELLOW}EMAIL_PASSWORD=xxxx xxxx xxxx xxxx  # Tu contrase√±a de 16 caracteres${NC}"
echo -e "${YELLOW}ADMIN_EMAIL=ncruzm2002@gmail.com${NC}"
echo ""

echo -e "${BLUE}Paso 2: Configurar WhatsApp (Twilio - OPCIONAL)${NC}"
echo "----------------------------------------"
echo ""
echo "Necesitas:"
echo "1. Cuenta Twilio (obtiene $10 USD gratis)"
echo "2. Account SID"
echo "3. Auth Token"
echo ""
echo "C√≥mo obtenerlo:"
echo "  1. Ve a https://www.twilio.com"
echo "  2. Reg√≠strate"
echo "  3. Dashboard ‚Üí Account Info"
echo "  4. Copia Account SID y Auth Token"
echo "  5. Dashboard ‚Üí Messaging ‚Üí WhatsApp ‚Üí Try it out"
echo ""
echo "Luego, edita UrbanGoal_BackEnd/.env:"
echo ""
echo -e "${YELLOW}TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx${NC}"
echo -e "${YELLOW}TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx${NC}"
echo -e "${YELLOW}TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886${NC}"
echo ""

echo -e "${BLUE}Paso 3: Reiniciar Backend${NC}"
echo "----------------------------------------"
echo ""
echo "Ejecuta:"
echo -e "${YELLOW}docker-compose restart urbangoal-backend-1${NC}"
echo ""

echo -e "${BLUE}Paso 4: Probar${NC}"
echo "----------------------------------------"
echo ""
echo "1. Abre http://localhost:3000"
echo "2. Completa un pedido"
echo "3. Deber√≠as recibir:"
echo "   ‚úâÔ∏è Email de confirmaci√≥n"
echo "   üì± WhatsApp de confirmaci√≥n (si configuraste Twilio)"
echo ""

echo -e "${GREEN}¬°Listo! Las notificaciones est√°n activadas üéâ${NC}"
echo ""
echo "======================================"
echo "          Informaci√≥n Importante"
echo "======================================"
echo ""
echo "üìß Sin Email: La app funciona, pero NO se env√≠an notificaciones"
echo "üì± Sin WhatsApp: La app funciona, pero NO se env√≠an mensajes"
echo ""
echo "üîí Seguridad:"
echo "   - NUNCA hagas commit de .env a git"
echo "   - .env ya est√° en .gitignore"
echo "   - Usa .env.example como referencia"
echo ""
echo "üìö Documentaci√≥n completa en:"
echo "   - NOTIFICACIONES_SETUP.md"
echo "   - CAMBIOS_REALIZADOS.md"
echo ""
echo "======================================"
